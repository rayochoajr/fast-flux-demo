
      process.env.NODE_ENV = 'production';
      
var O=Object.create;var d=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var i=(t,r)=>d(t,"name",{value:r,configurable:!0});var M=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of m(r))!x.call(t,o)&&o!==e&&d(t,o,{get:()=>r[o],enumerable:!(n=R(r,o))||n.enumerable});return t};var u=(t,r,e)=>(e=t!=null?O(y(t)):{},M(r||!t||!t.__esModule?d(e,"default",{value:t,enumerable:!0}):e,t));var l=require("next/dist/server/lib/start-server.js"),T=u(require("path"));var E={DIST_DIR_NAME:".next",UNDERSCORE_DIST_NAME:"_next",STANDALONE_DIR_NAME:"standalone",STATIC_DIR_NAME:"static",PUBLIC_DIR_NAME:"public",CACHE_DIR_NAME:"cache",SERVER_DIR_NAME:"server",PAGES_DIR_NAME:"pages",IMAGES_DIR_NAME:"images",MEDIA_DIR_NAME:"media",SERVER_FILE_NAME:"server.js",SERVER_CONFIG_PATH:"required-server-files.json",SERVER_TRACE_FILE_NAME:"next-server.js.nft.json",INSTRUMENTATION_TRACE_FILE_NAME:"instrumentation.js.nft.json",PAGE_MANIFEST_FILE_NAME:"pages-manifest.json",APP_MANIFEST_FILE_NAME:"app-paths-manifest.json",APP_PATH_ROUTES_MANIFEST_FILE_NAME:"app-path-routes-manifest.json",ROUTES_MANIFEST_FILE_NAME:"routes-manifest.json",PRE_RENDER_MANIFEST_FILE_NAME:"prerender-manifest.json",MIDDLEWARE_MANIFEST_FILE_NAME:"middleware-manifest.json",ENV_FILE_NAME:".env",ENV_FILE_NAME_PROD:".env.production",TRACE_FILE_EXT:".js.nft.json",NEXT_SERVER_FILE_NAME:"server.js",ESM_NEXT_SERVER_FILE_NAME:"server-esm.js",EXPORT_DETAIL_FILE_NAME:"export-detail.json"};var C=u(require("path")),f=require("fs");var N=i((t,r)=>{let e=r[t];return typeof e=="string"?e:JSON.stringify(e)},"stringifyErrorProperty");var c=class extends Error{constructor(e,n={}){super(typeof e=="string"?e:e.message);typeof n=="number"&&(n={bundlerErrorCode:n});let{bundlerErrorCode:o,fsErrorContext:_,fsErrorCode:s,bundlerOperation:a}=n||{};this.bundlerOperation=a,this.fsErrorContext=_,e instanceof Error&&(this.captureErrorDetails(e),this.appendStackTrace(e),this.extractFileSystemErrorDetails()),s!==void 0&&(this.fsErrorCode=s,this.bundlerErrorCode=5),this.bundlerErrorCode=o??this.bundlerErrorCode??2}captureErrorDetails(e){this.path=N("path",e),this.syscall=N("syscall",e),this.code=N("code",e)}appendStackTrace(e){Error.captureStackTrace(this,this.constructor),e.stack&&(this.stack+=`
Caused by: ${e.stack}`)}extractFileSystemErrorDetails(){let e=this.getFileSystemErrorCode();e!==void 0&&(this.bundlerErrorCode=5,this.fsErrorCode=e)}getFileSystemErrorCode(){let{code:e,message:n,fsErrorContext:o}=this,_={EACCES:"EACCES",ENOSPC:"ENOSPC",EEXIST:"EEXIST",ENOENT:"ENOENT",ENOTDIR:"ENOTDIR",EISDIR:"EISDIR",ENOMEM:"ENOMEM"};if(e!==void 0&&e in _)return _[e];if(o===void 0||!n)return;let{src:s,dest:a}=o;switch(n){case"Source and destination must not be the same.":return"SourceAndDestinationSame";case`Cannot overwrite directory '${a}' with non-directory '${s}'.`:return"CannotOverwriteDirWithNonDir";case`Cannot overwrite non-directory '${a}' with directory '${s}'.`:return"CannotOverwriteNonDirWithDir";case`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`:return"CannotCopyToSubdirectoryOfItself";case`Cannot copy a socket file: ${s}`:return"CannotCopySocket";case`Cannot copy a FIFO pipe: ${s}`:return"CannotCopyFIFO";case`Unknown file: ${s}`:return"UnknownFile"}if(n.includes("Cannot overwrite"))return"CannotOverwrite";if(["Cannot copy","to a subdirectory of itself"].every(D=>n.includes(D)))return"CannotCopyToSubdirectoryOfItself"}};i(c,"BundlerError");function S(t){return F(C.default.join(__dirname,t))}i(S,"getProjectConfig");function F(t){let r=C.default.join(t,E.SERVER_CONFIG_PATH);if(!(0,f.existsSync)(r))throw new c(`Can't find ${E.SERVER_CONFIG_PATH} in build output directory`,3);let e=(0,f.readFileSync)(r,"utf-8"),{config:n}=JSON.parse(e);return n}i(F,"getConfig");process.chdir(__dirname);process.env.NEXT_MANUAL_SIG_HANDLE||(process.on("SIGTERM",()=>process.exit(0)),process.on("SIGINT",()=>process.exit(0)));var A=process.env.HOSTNAME||"localhost",I=process.env.PORT?parseInt(process.env.PORT,10):3e3,p={...S(E.DIST_DIR_NAME),distDir:E.DIST_DIR_NAME};process.env.__NEXT_PRIVATE_STANDALONE_CONFIG=JSON.stringify(p);process.env.__NEXT_PRIVATE_PREBUNDLED_REACT=p.experimental&&p.experimental.serverActions?"experimental":"next";(0,l.startServer)({dir:T.default.join(__dirname),isDev:!1,config:p,hostname:A,port:I,allowRetry:!1,useWorkers:!!p.experimental?.appDir}).then(()=>{console.log("Listening on port",I,"url: http://"+A+":"+I)}).catch(t=>{console.error("[x-amplify-error] An unexpected error occured during runtime server startup",t),process.exit(1)});
