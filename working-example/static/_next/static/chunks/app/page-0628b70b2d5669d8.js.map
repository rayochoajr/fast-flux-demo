{"version":3,"file":"static/chunks/app/page-0628b70b2d5669d8.js","mappings":"oFAAAA,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,IAAA,CAAAD,EAAA,qLCoBA,IAAME,eAAiB,KACrBC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,IAAMC,EAA8B,CAAC,EAkCrC,OA/BA,IAAIC,oBAAoB,IACtB,IAAMC,EAAUC,EAAKC,UAAU,GACzBC,EAAWH,EAAQI,IAAI,CAACC,GAASA,2BAAAA,EAAMC,IAAI,EAC7CH,GACFL,CAAAA,EAAQS,GAAG,CAAGJ,EAASK,SAAS,CAGpC,GAAGC,OAAO,CAAC,CAAEC,WAAY,CAAC,QAAQ,GAGlC,IAAIX,oBAAoB,IACtB,IAAMC,EAAUC,EAAKC,UAAU,EAC3BF,CAAAA,EAAQW,MAAM,CAAG,GACnBb,CAAAA,EAAQc,GAAG,CAAGZ,CAAO,CAACA,EAAQW,MAAM,CAAG,EAAE,CAACH,SAAS,CAGvD,GAAGC,OAAO,CAAC,CAAEC,WAAY,CAAC,2BAA2B,GAGrD,IAAIX,oBAAoB,IACtB,IAAIc,EAAW,EACfZ,EAAKC,UAAU,GAAGY,OAAO,CAAC,IAEnBC,EAAYC,cAAc,EAC7BH,CAAAA,GAAYE,EAAYE,KAAK,CAEjC,GACAnB,EAAQoB,GAAG,CAAGL,CAEhB,GAAGJ,OAAO,CAAC,CAAEC,WAAY,CAAC,eAAe,GAElC,KAEP,CACF,EAAG,EAAE,CACP,EAYA,wBAAMS,sBAAsBC,EAAAA,SAAe,CAMzC,OAAOC,yBAAyBC,CAAY,CAAsB,CAChE,MAAO,CAAEC,SAAU,GAAMD,MAAAA,CAAM,CACjC,CAEAE,kBAAkBF,CAAY,CAAEG,CAA0B,CAAQ,CAGlE,CAEAC,QAA0B,QACxB,IAAQ,CAACC,KAAK,CAACJ,QAAQ,CAEnB,GAAAK,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,wDACb,GAAAH,EAAAI,GAAA,EAACC,KAAAA,CAAGF,UAAU,sDAA6C,yBAC3D,GAAAH,EAAAI,GAAA,EAACE,SAAAA,CACCC,QAAS,IAAM,IAAI,CAACC,QAAQ,CAAC,CAAEb,SAAU,EAAM,GAC/CQ,UAAU,0EACX,iBAMA,IAAI,CAACM,KAAK,CAACC,QAAQ,CA5B5BC,YAAYF,CAAyB,CAAE,CACrC,KAAK,CAACA,GACN,IAAI,CAACV,KAAK,CAAG,CAAEJ,SAAU,GAAOD,MAAO,IAAK,CAC9C,CA2BF,EAEA,IAAMkB,EAAgB,wEAEhBC,eAAiB,OAAC,CAAEC,QAAAA,CAAO,CAAEC,SAAAA,CAAQ,CAAEC,aAAAA,CAAY,CAAqE,CAAAC,EAG5H,MACE,GAAAjB,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAACZ,MAAM,EACZa,KAAK,SACLZ,QAASQ,EACTK,SAAUJ,EACVb,UAAW,mFAMRkB,MAAA,CAHCP,EACE,uEACA,yGACH,mJAIHQ,WAAY,CAAEC,MAAO,IAAK,EAC1BC,SAAU,CAAED,MAAO,GAAK,EACxBE,WAnBiB,CAAEN,KAAM,SAAUO,UAAW,IAAKC,QAAS,EAAG,YAqB/D,GAAA3B,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACTC,UAAW,sDAE2EkB,MAAA,CAAlFP,EAAU,mCAAqC,mCAAmC,cAEtFc,QAAS,GACTC,QAASf,EAAU,CAAES,MAAO,IAAKO,QAAS,CAAE,EAAI,CAAEP,MAAO,EAAGO,QAAS,CAAE,EACvEL,WAAY,CAAEM,SAAU,GAAKC,OAAQlB,EAAUmB,IAAW,CAAE,IAE9D,GAAAjC,EAAAI,GAAA,EAAC8B,OAAAA,CAAK/B,UAAU,gBAAgBgC,aAAYrB,EAAU,iBAAmB,uBACtEA,EAAU,IAAM,iBAElBA,GACC,GAAAd,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACT0B,QAAS,CAAEE,QAAS,EAAGP,MAAO,EAAI,EAClCM,QAAS,CAAEC,QAAS,EAAGP,MAAO,CAAE,EAChCa,KAAM,CAAEN,QAAS,EAAGP,MAAO,EAAI,EAC/BpB,UAAU,4IACX,QAMT,EAEMkC,eAAiB,OAAC,CAAErB,aAAAA,CAAY,CAAEI,SAAAA,CAAQ,CAAEzB,SAAAA,CAAQ,CAAmE,CAAAsB,EACrH,CAACqB,EAAaC,EAAe,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACzC,CAACC,EAAU,CAAGD,CAAAA,EAAAA,EAAAA,QAAAA,EAAS7C,GAU7B,MARA1B,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAI,CAAC+C,GAAgB,CAACyB,EAAW,CAC/BF,EAAe,IACf,IAAMG,EAAQC,WAAW,IAAMJ,EAAe,IAAQ,KACtD,MAAO,IAAMK,aAAaF,EAC5B,CACF,EAAG,CAAC1B,EAAcyB,EAAU,EAG1B,GAAAzC,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAACZ,MAAM,EACZa,KAAK,SACLC,SAAUA,EACVjB,UAAW,0EAORkB,MAAA,CALC1B,EACE,6BACA2C,EACE,iCACA,uEACL,6IAIHhB,WAAY,CAAEC,MAAO,IAAK,EAC1BC,SAAU,CAAED,MAAO,GAAK,EACxBY,aAAYnB,EAAe,mBAAqB,0BAEhD,GAAAhB,EAAAI,GAAA,EAACyC,EAAAA,CAAeA,CAAAA,CAACC,KAAK,gBACnB9B,EACC,GAAAhB,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAAChB,GAAG,EAET0B,QAAS,CAAEE,QAAS,EAAGP,MAAO,EAAI,EAClCM,QAAS,CAAEC,QAAS,EAAGP,MAAO,CAAE,EAChCa,KAAM,CAAEN,QAAS,EAAGP,MAAO,EAAI,EAC/BpB,UAAU,qBAEV,GAAAH,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACTC,UAAU,oDACV0B,QAAS,CAAEkB,OAAQ,GAAI,EACvBtB,WAAY,CAAEM,SAAU,EAAGC,OAAQC,IAAUe,KAAM,QAAS,WAC7D,MAGD,GAAAhD,EAAAI,GAAA,EAAC8B,OAAAA,CAAK/B,UAAU,qBAAY,mBAbxB,cAeJR,EACF,GAAAK,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAACgB,IAAI,EAEVN,QAAS,CAAEE,QAAS,EAAGP,MAAO,EAAI,EAClCM,QAAS,CAAEC,QAAS,EAAGP,MAAO,CAAE,EAChCa,KAAM,CAAEN,QAAS,EAAGP,MAAO,EAAI,WAChC,MAJK,SAOJe,EACF,GAAAtC,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAACgB,IAAI,EAEVN,QAAS,CAAEE,QAAS,EAAGP,MAAO,EAAI,EAClCM,QAAS,CAAEC,QAAS,EAAGP,MAAO,CAAE,EAChCa,KAAM,CAAEN,QAAS,EAAGP,MAAO,EAAI,WAChC,KAJK,WAQN,GAAAvB,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAACgB,IAAI,EAEVN,QAAS,CAAEE,QAAS,EAAGP,MAAO,EAAI,EAClCM,QAAS,CAAEC,QAAS,EAAGP,MAAO,CAAE,EAChCa,KAAM,CAAEN,QAAS,EAAGP,MAAO,EAAI,WAChC,gBAJK,WAWhB,EAEM0B,EAAezD,EAAAA,IAAU,CAAC,OAAC,CAAE0D,IAAAA,CAAG,CAAEC,IAAAA,CAAG,CAAEC,QAAAA,CAAO,CAAE1D,MAAAA,CAAK,CAAE2D,QAAAA,CAAO,CAMnE,CAAApC,EAUC,MACE,GAAAjB,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAAChB,GAAG,EACToD,SAXa,CACfC,OAAQ,CAAEzB,QAAS,EAAGP,MAAO,GAAK,EAClCiC,QAAS,CACP1B,QAAS,EACTP,MAAO,EACPE,WAAY,CAAEN,KAAM,SAAUO,UAAW,IAAKC,QAAS,EAAG,CAC5D,CACF,EAKIC,QAAQ,SACRC,QAAQ,UACR1B,UAAU,2FAET+C,EACC,GAAAlD,EAAAI,GAAA,EAACqD,IAAKA,CACJC,IAAKR,EACLC,IAAKA,EACLQ,KAAI,GACJxD,UAAU,eACVyD,SAAQ,KAGV,GAAA5D,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,qGAGhBiD,GACC,GAAApD,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACT0B,QAAS,CAAEE,QAAS,CAAE,EACtBD,QAAS,CAAEC,QAAS,CAAE,EACtBM,KAAM,CAAEN,QAAS,CAAE,EACnB3B,UAAU,0FAEV,GAAAH,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACT2B,QAAS,CAAEkB,OAAQ,GAAI,EACvBtB,WAAY,CAAEM,SAAU,EAAGC,OAAQC,IAAUe,KAAM,QAAS,EAC5D7C,UAAU,qEAKfT,GACC,GAAAM,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAAChB,GAAG,EACT0B,QAAS,CAAEE,QAAS,CAAE,EACtBD,QAAS,CAAEC,QAAS,CAAE,EACtB3B,UAAU,oGAEV,GAAAH,EAAAC,IAAA,EAAC4D,IAAAA,CAAE1D,UAAU,4BAAkB,MAAIT,EAAMoE,OAAO,IAChD,GAAA9D,EAAAI,GAAA,EAACE,SAAAA,CACCC,QAAS8C,EACTlD,UAAU,2FACX,mBAOX,EAEA8C,CAAAA,EAAac,WAAW,CAAG,eAgB3B,IAAMC,aAAe,CAACjE,EAAmBkE,KACvC,OAAQA,EAAO9C,IAAI,EACjB,IAAK,gBACH,MAAO,CACL,GAAGpB,CAAK,CACRqD,QAAS,GACT1D,MAAO,KACPwE,UAAWC,KAAKC,GAAG,EACrB,CACF,KAAK,eACH,MAAO,CACLlB,IAAKe,EAAOf,GAAG,CACfE,QAAS,GACT1D,MAAO,KACPwE,UAAWC,KAAKC,GAAG,EACrB,CACF,KAAK,aACH,MAAO,CACL,GAAGrE,CAAK,CACRqD,QAAS,GACT1D,MAAOuE,EAAOvE,KAAK,CACnBwE,UAAWC,KAAKC,GAAG,EACrB,CACF,KAAK,QACH,MAAO,CACLlB,IAAK,KACLE,QAAS,GACT1D,MAAO,KACPwE,UAAWC,KAAKC,GAAG,EACrB,CACF,SACE,OAAOrE,CACX,CACF,EAGMsE,cAAgB,KACpB,IAAMC,EAAQC,CAAAA,EAAAA,EAAAA,MAAAA,EAAwD,IAAIC,KAGpEC,EAAMC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,CAACC,EAAczB,KACrCoB,EAAMM,OAAO,CAACH,GAAG,CAACE,EAAM,CAAEzB,IAAAA,EAAKgB,UAAWC,KAAKC,GAAG,EAAG,GAErD,GAAI,CACFS,aAAaC,OAAO,CAAC,aAAcC,KAAKC,SAAS,CAACC,MAAMC,IAAI,CAACZ,EAAMM,OAAO,CAACxG,OAAO,KACpF,CAAE,MAAOsB,EAAO,CAEhB,CACF,EAAG,EAAE,EAECyF,EAAMT,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IACtB,IAAMjG,EAAQ6F,EAAMM,OAAO,CAACO,GAAG,CAACR,UAChC,EACIR,KAAKC,GAAG,GAAK3F,EAAMyF,SAAS,CAfX,OAgBnBI,EAAMM,OAAO,CAACQ,MAAM,CAACT,GACd,MAEFlG,EAAMyE,GAAG,CALG,IAMrB,EAAG,EAAE,EAcL,MAXAjF,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KACR,GAAI,CACF,IAAMoH,EAAQR,aAAaS,OAAO,CAAC,cAC/BD,GACFf,CAAAA,EAAMM,OAAO,CAAG,IAAIJ,IAAIO,KAAKQ,KAAK,CAACF,GAAAA,CAEvC,CAAE,MAAO3F,EAAO,CAEhB,CACF,EAAG,EAAE,EAEE,CAAEyF,IAAAA,EAAKV,IAAAA,CAAI,CACpB,EAEMe,gBAAkB,KACtB,IAAMC,EAAQlB,CAAAA,EAAAA,EAAAA,MAAAA,EAAmC,EAAE,EAC7CmB,EAAenB,CAAAA,EAAAA,EAAAA,MAAAA,EAAO,IAEtBoB,EAAejB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,UAC/B,GAAIgB,CAAAA,EAAad,OAAO,EAAIa,IAAAA,EAAMb,OAAO,CAAC7F,MAAM,EAChD2G,EAAad,OAAO,CAAG,GAEvB,GAAI,CACF,IAAMgB,EAAUH,EAAMb,OAAO,CAAC,EAAE,OAC1BgB,IACNH,EAAMb,OAAO,CAACiB,KAAK,EACrB,CAAE,MAAOnG,EAAO,CAEhB,QAAU,CACRgG,EAAad,OAAO,CAAG,GACnBa,EAAMb,OAAO,CAAC7F,MAAM,CAAG,GACzB4G,GAEJ,EACF,EAAG,EAAE,EAECG,EAAUpB,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IAC1Be,EAAMb,OAAO,CAACmB,IAAI,CAACH,GACnBD,GACF,EAAG,CAACA,EAAa,EAEjB,MAAO,CAAEG,QAAAA,CAAQ,CACnB,EAkCME,eAAiB,CAACjG,EAAqBkE,KAC3C,OAAQA,EAAO9C,IAAI,EACjB,IAAK,YACH,MAAO,CACL,GAAGpB,CAAK,CACR3B,QAAS,CAAC6F,EAAOxF,KAAK,IAAKsB,EAAM3B,OAAO,CAAC6H,MAAM,CAACC,GAAKA,EAAEvB,IAAI,GAAKV,EAAOxF,KAAK,CAACkG,IAAI,EAAE,CACnFjF,MAAO,IACT,CACF,KAAK,eACH,MAAO,CACL,GAAGK,CAAK,CACR3B,QAAS2B,EAAM3B,OAAO,CAAC6H,MAAM,CAACC,GAAKA,EAAEC,EAAE,GAAKlC,EAAOkC,EAAE,EACrDC,WAAYrG,EAAMqG,UAAU,GAAKnC,EAAOkC,EAAE,CAAG,KAAOpG,EAAMqG,UAAU,CAExE,KAAK,eACH,MAAO,CACL,GAAGrG,CAAK,CACRqG,WAAYnC,EAAOkC,EAAE,CACrBzG,MAAO,IACT,CACF,KAAK,kBACH,MAAO,CACL,GAAGK,CAAK,CACRqG,WAAY,IACd,CACF,KAAK,YACH,MAAO,CACL,GAAGrG,CAAK,CACRL,MAAOuE,EAAOvE,KAAK,CACnB2G,UAAW,EACb,CACF,KAAK,cACH,MAAO,CACL,GAAGtG,CAAK,CACRL,MAAO,IACT,CACF,KAAK,gBACH,MAAO,CACL,GAAGK,CAAK,CACRsG,UAAW,GACX3G,MAAO,IACT,CACF,KAAK,eACH,MAAO,CACL,GAAGK,CAAK,CACRsG,UAAW,EACb,CACF,SACE,OAAOtG,CACX,CACF,EAGMuG,cAAgB,OAAC,CAAEC,UAAAA,CAAS,CAAExF,SAAAA,CAAQ,CAAEyF,YAAAA,CAAW,CAIxD,CAAAvF,QACC,GAAAjB,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAACZ,MAAM,EACZC,QAASQ,EACTZ,UAAW,4DAKRkB,MAAA,CAHCkF,EACE,uEACA,qHACH,wEAGHjF,WAAY,CAAEC,MAAO,IAAK,EAC1BC,SAAU,CAAED,MAAO,GAAK,EACxBY,aAAYoE,EAAY,gBAAkB,yBAE1C,GAAAvG,EAAAI,GAAA,EAAC8B,OAAAA,CAAK/B,UAAU,mBAAWoG,EAAY,eAAO,iBAC7CC,GAAe,CAACD,GACf,GAAAvG,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACT0B,QAAS,CAAEL,MAAO,CAAE,EACpBM,QAAS,CAAEN,MAAO,CAAE,EACpBpB,UAAU,gEAGD,EAGXsG,YAAc,OAAC,CACnBhI,MAAAA,CAAK,CACLiI,WAAAA,CAAU,CACVC,SAAAA,CAAQ,CACRC,SAAAA,CAAQ,CACRC,aAAAA,CAAY,CAOb,CAAA5F,EACO,CAAC6F,EAAWC,EAAa,CAAGvE,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAE3C,MACE,GAAAxC,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACT8G,OAAM,GACNpF,QAAS,CAAEE,QAAS,EAAGmF,EAAG,EAAG,EAC7BpF,QAAS,CAAEC,QAAS,EAAGmF,EAAG,CAAE,EAC5B7E,KAAM,CAAEN,QAAS,EAAGmF,EAAG,GAAI,EAC3B9G,UAAW,0DAKRkB,MAAA,CAHCqF,EACE,0CACA,4DACH,wFAGHQ,aAAc,IAAMH,EAAa,IACjCI,WAAY,IAAMJ,EAAa,aAE/B,GAAA/G,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAAChB,GAAG,EACTC,UAAU,yBACVI,QAASoG,YAET,GAAA3G,EAAAI,GAAA,EAACqD,IAAKA,CACJC,IAAKjF,EAAM2I,QAAQ,CACnBjE,IAAK1E,EAAM4I,MAAM,CACjB1D,KAAI,GACJxD,UAAU,eACVmH,MAAM,2DACN1D,SAAU8C,IAEZ,GAAA1G,EAAAI,GAAA,EAACyC,EAAAA,CAAeA,CAAAA,UACbiE,GACC,GAAA9G,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAAChB,GAAG,EACT0B,QAAS,CAAEE,QAAS,CAAE,EACtBD,QAAS,CAAEC,QAAS,CAAE,EACtBM,KAAM,CAAEN,QAAS,CAAE,EACnB3B,UAAU,iHAEV,GAAAH,EAAAI,GAAA,EAACyD,IAAAA,CAAE1D,UAAU,2CAAmC1B,EAAM4I,MAAM,GAC5D,GAAArH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,yCACb,GAAAH,EAAAI,GAAA,EAACE,SAAAA,CACCC,QAAS,IACP2F,EAAEqB,eAAe,GACjBV,GACF,EACA1G,UAAU,gGACVgC,aAAW,4BACZ,MAGD,GAAAnC,EAAAI,GAAA,EAACE,SAAAA,CACCC,QAAS,IACP2F,EAAEqB,eAAe,GACjBX,GACF,EACAzG,UAAU,gGACVgC,aAAW,+BACZ,iBAOR1D,EAAM+I,QAAQ,CAACC,SAAS,EACvB,GAAAzH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,6DACb,GAAAH,EAAAI,GAAA,EAAC8B,OAAAA,CAAK/B,UAAU,8BAAqB,YAMjD,EAEMuH,aAAe,OAAC,CACpBnB,UAAAA,CAAS,CACTnI,QAAAA,CAAO,CACPgI,WAAAA,CAAU,CACVuB,QAAAA,CAAO,CACPhB,SAAAA,CAAQ,CACRC,SAAAA,CAAQ,CACRC,aAAAA,CAAY,CACZnH,MAAAA,CAAK,CAUN,CAAAuB,EACO2G,EAAWrD,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MAClC,CAACsD,EAAWC,EAAa,CAAGtF,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,CAAEuF,WAAY,GAAOC,OAAQ,EAAGC,WAAY,CAAE,GAyBzF,MACE,GAAAjI,EAAAI,GAAA,EAACyC,EAAAA,CAAeA,CAAAA,UACb0D,GACC,GAAAvG,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAAChB,GAAG,EACTgI,IAAKN,EACLhG,QAAS,CAAEE,QAAS,EAAGmF,EAAG,MAAO,EACjCpF,QAAS,CACPC,QAAS,EACTmF,EAAGY,EAAUI,UAAU,EAAI,EAC3BxG,WAAY,CAAEN,KAAM,SAAUQ,QAAS,GAAID,UAAW,GAAI,CAC5D,EACAU,KAAM,CAAEN,QAAS,EAAGmF,EAAG,MAAO,EAC9B9G,UAAU,gIACVgI,aApCiB,IACvBL,EAAa,CACXC,WAAY,GACZC,OAAQ9B,EAAEkC,OAAO,CAAC,EAAE,CAACC,OAAO,CAC5BJ,WAAY,CACd,EACF,EA+BQK,YA7BgB,IACtB,GAAI,CAACT,EAAUE,UAAU,CAAE,OAC3B,IAAMQ,EAASrC,EAAEkC,OAAO,CAAC,EAAE,CAACC,OAAO,CAAGR,EAAUG,MAAM,CAClDO,EAAS,GACXT,EAAaU,GAAS,EAAE,GAAGA,CAAI,CAAEP,WAAYM,CAAO,GAExD,EAwBQE,WAtBe,KACjBZ,EAAUI,UAAU,CAAG,KACzBN,IAEFG,EAAa,CAAEC,WAAY,GAAOC,OAAQ,EAAGC,WAAY,CAAE,EAC7D,YAmBQ,GAAAjI,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,qGAEf,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,mEACb,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,mDACb,GAAAH,EAAAC,IAAA,EAACC,MAAAA,WACC,GAAAF,EAAAI,GAAA,EAACC,KAAAA,CAAGF,UAAU,+DAAsD,YACpE,GAAAH,EAAAC,IAAA,EAAC4D,IAAAA,CAAE1D,UAAU,qDACV/B,EAAQW,MAAM,CAAC,IAAEX,IAAAA,EAAQW,MAAM,CAAS,QAAU,SAAS,mBAGhE,GAAAiB,EAAAI,GAAA,EAACE,SAAAA,CACCC,QAASoH,EACTxH,UAAU,iHACVgC,aAAW,yBACZ,YAKFzC,GACC,GAAAM,EAAAC,IAAA,EAACiB,EAAAA,CAAMA,CAAChB,GAAG,EACT0B,QAAS,CAAEE,QAAS,EAAGmF,EAAG,GAAI,EAC9BpF,QAAS,CAAEC,QAAS,EAAGmF,EAAG,CAAE,EAC5B9G,UAAU,6EACX,MACKT,EAAMoE,OAAO,IAIrB,GAAA9D,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,iDACb,GAAAH,EAAAI,GAAA,EAACyC,EAAAA,CAAeA,CAAAA,CAACC,KAAK,qBACnB1E,EAAQsK,GAAG,CAAC,GACX,GAAA1I,EAAAI,GAAA,EAACqG,YAAAA,CAEChI,MAAOA,EACPiI,WAAYjI,EAAM0H,EAAE,GAAKC,EACzBO,SAAU,IAAMA,EAASlI,GACzBmI,SAAU,IAAMA,EAASnI,EAAM0H,EAAE,EACjCU,aAAc,IAAMA,EAAapI,IAL5BA,EAAM0H,EAAE,OAWpB/H,IAAAA,EAAQW,MAAM,EACb,GAAAiB,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACT0B,QAAS,CAAEE,QAAS,CAAE,EACtBD,QAAS,CAAEC,QAAS,CAAE,EACtB3B,UAAU,6BAEV,GAAAH,EAAAI,GAAA,EAACyD,IAAAA,CAAE1D,UAAU,4CAAmC,qCAQhE,EAGe,SAASwI,OACtB3K,iBACA,GAAM,CAAC4K,EAAYC,EAAc,CAAGC,CAAAA,EAAAA,EAAAA,UAAAA,EAAW9E,aAAc,CAC3Dd,IAAK,KACLE,QAAS,GACT1D,MAAO,KACPwE,UAAW,CACb,GAEM,CAAC6E,EAAeC,EAAiB,CAAGxG,CAAAA,EAAAA,EAAAA,QAAAA,EAAS5B,GAC7C,CAACqI,EAAmBC,EAAqB,CAAG1G,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAGrD2G,EAAkB5E,CAAAA,EAAAA,EAAAA,MAAAA,EAA+B,MACjD,CAAEY,IAAKiE,CAAc,CAAE3E,IAAK4E,CAAc,CAAE,CAAGhF,gBAC/C,CAAEyB,QAAAA,CAAO,CAAE,CAAGN,kBAGd8D,EAAeC,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAAM,GAC1BC,CAAAA,EAAAA,EAAAA,UAAAA,EAAW,UAAUC,MAAM,CAACC,GAAMC,MAAM,CAAC,OAAOC,SAAS,CAAC,EAAG,GACnE,EAAE,EAGCC,EAAgBnF,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,MAAO2C,IACvC,GAAI,CAACA,EAAOyC,IAAI,GAAI,MAEhBX,CAAAA,EAAgBvE,OAAO,EACzBuE,EAAgBvE,OAAO,CAACmF,KAAK,GAE/BZ,EAAgBvE,OAAO,CAAG,IAAIoF,gBAE9B,IAAMrF,EAAO2E,EAAajC,GACpB4C,EAAYb,EAAezE,GAC3B/F,EAAYuF,KAAKC,GAAG,GAE1B,GAAI6F,EAAW,CACbpB,EAAc,CAAE1H,KAAM,eAAgB+B,IAAK+G,EAAW5C,OAAAA,CAAO,GAC7D6C,EAAgB,CACd/I,KAAM,YACN1C,MAAO,CACL0H,GAAIxB,EACJ0C,OAAAA,EACAD,SAAU6C,EACVtF,KAAAA,EACAT,UAAWC,KAAKC,GAAG,GACnBoD,SAAU,CACR2C,eAAgB,EAChB1C,UAAW,GACX2C,KAAMzF,CACR,CACF,CACF,GACA,MACF,CAEAkE,EAAc,CAAE1H,KAAM,gBAAiBkG,OAAAA,CAAO,GAC9C6C,EAAgB,CAAE/I,KAAM,eAAgB,GAExC,GAAI,KAMEgI,EALJ,IAAM/B,EAAW,4BAA+DzC,MAAAA,CAAnC0F,mBAAmBhD,GAAQ,UAAahG,MAAA,CAALsD,GAKhF,GAFA,MAAM,IAAIhH,QAAQC,GAAW+E,WAAW/E,EAAS,MAEjD,OAAIuL,CAAAA,EAAAA,EAAgBvE,OAAO,GAAvBuE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAyBmB,MAAM,CAACC,OAAO,CAAE,OAE7C1B,EAAc,CAAE1H,KAAM,eAAgB+B,IAAKkE,EAAUC,OAAAA,CAAO,GAC5DgC,EAAe1E,EAAMyC,GAErB8C,EAAgB,CACd/I,KAAM,YACN1C,MAAO,CACL0H,GAAIxB,EACJ0C,OAAAA,EACAD,SAAAA,EACAzC,KAAAA,EACAT,UAAWC,KAAKC,GAAG,GACnBoD,SAAU,CACR2C,eAAgBhG,KAAKC,GAAG,GAAKxF,EAC7B6I,UAAW,GACX2C,KAAMzF,CACR,CACF,CACF,EACF,CAAE,MAAOjF,EAAO,CACVA,aAAiB8K,QACnB3B,EAAc,CAAE1H,KAAM,aAAczB,MAAAA,CAAM,GAC1CwK,EAAgB,CAAE/I,KAAM,YAAazB,MAAAA,CAAM,GAE/C,QAAU,CACRwK,EAAgB,CAAE/I,KAAM,cAAe,EACzC,CACF,EAAG,CAACmI,EAAcF,EAAgBC,EAAe,EAG3CoB,EAAoBlB,CAAAA,EAAAA,EAAAA,OAAAA,EACxB,IAAMmB,IAAS,IACb5E,EAAQ,IAAM+D,EAAcxC,GAC9B,EAAG,KACH,CAACwC,EAAe/D,EAAQ,EAIpB6E,EAAoBjG,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IACpC,IAAMkG,EAAY1E,EAAE2E,MAAM,CAACxL,KAAK,CAChC2J,EAAiB4B,GAEb3B,GACFwB,EAAkBG,EAEtB,EAAG,CAAC3B,EAAmBwB,EAAkB,EAEnCK,EAAepG,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,IAC/BwB,EAAE6E,cAAc,GACX9B,GACHnD,EAAQ,IAAM+D,EAAcd,GAEhC,EAAG,CAACE,EAAmBF,EAAec,EAAe/D,EAAQ,EAEvDkF,EAActG,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,KAC9BoB,EAAQ,IAAM+D,EAAcd,GAC9B,EAAG,CAACA,EAAec,EAAe/D,EAAQ,EAG1C7H,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,IACD,KACDkL,EAAgBvE,OAAO,EACzBuE,EAAgBvE,OAAO,CAACmF,KAAK,EAEjC,EACC,EAAE,EAEL,GAAM,CAACkB,EAAcf,EAAgB,CAAGpB,CAAAA,EAAAA,EAAAA,UAAAA,EAAW9C,eAAgB,CACjE5H,QAAS,EAAE,CACXgI,WAAY,KACZ1G,MAAO,KACP2G,UAAW,EACb,GACM,CAAC6E,EAAkBC,EAAoB,CAAG3I,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IACnDgE,EAAc+C,CAAAA,EAAAA,EAAAA,OAAAA,EAAQ,IAC1B,CAAI2B,GACGD,EAAa7M,OAAO,CAACgN,IAAI,CAAC3M,GAC/B0F,KAAKC,GAAG,GAAK3F,EAAMyF,SAAS,CAAG,KAEhC,CAAC+G,EAAa7M,OAAO,CAAE8M,EAAiB,EAE3C,MACE,GAAAlL,EAAAI,GAAA,EAACb,cAAAA,UACC,GAAAS,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,mLACb,GAAAH,EAAAC,IAAA,EAACoL,OAAAA,CAAKlL,UAAU,8CAEd,GAAAH,EAAAI,GAAA,EAACF,MAAAA,CAAIC,UAAU,uEACb,GAAAH,EAAAI,GAAA,EAAC6C,EAAAA,CACCC,IAAK0F,EAAW1F,GAAG,CACnBC,IAAK4F,EACL3F,QAASwF,EAAWxF,OAAO,CAC3B1D,MAAOkJ,EAAWlJ,KAAK,CACvB2D,QAAS2H,MAKb,GAAAhL,EAAAI,GAAA,EAACkL,MAAAA,CAAInL,UAAU,yCACb,GAAAH,EAAAI,GAAA,EAACc,EAAAA,CAAMA,CAAChB,GAAG,EACTC,UAAU,oDACVyB,QAAS,CAAEqF,EAAG,GAAI,EAClBpF,QAAS,CAAEoF,EAAG,CAAE,EAChBxF,WAAY,CAAEN,KAAM,SAAUO,UAAW,IAAKC,QAAS,EAAG,WAE1D,GAAA3B,EAAAC,IAAA,EAACsL,OAAAA,CAAKC,SAAUV,EAAc3K,UAAU,yCACtC,GAAAH,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,oCACb,GAAAH,EAAAI,GAAA,EAACS,eAAAA,CACCC,QAASmI,EACTlI,SAAU,IAAMmI,EAAqB,CAACD,GACtCjI,aAAc4H,EAAWxF,OAAO,GAElC,GAAApD,EAAAI,GAAA,EAACiC,eAAAA,CACCrB,aAAc4H,EAAWxF,OAAO,CAChChC,SAAUwH,EAAWxF,OAAO,EAAI6F,EAChCtJ,SAAU,CAAC,CAACiJ,EAAWlJ,KAAK,MAGhC,GAAAM,EAAAC,IAAA,EAACC,MAAAA,CAAIC,UAAU,4BACvB,GAAAH,EAAAI,GAAA,EAACqL,QAAAA,CACCtK,KAAK,OACK9B,MAAO0J,EACP2C,SAAUf,EACVgB,YAAY,0BACZxL,UAAU,oLAEX4I,IAAkBnI,GACjB,GAAAZ,EAAAI,GAAA,EAACE,SAAAA,CACCa,KAAK,SACLZ,QAAS,IAAMyI,EAAiBpI,GAChCT,UAAU,uIACX,YAKL,GAAAH,EAAAI,GAAA,EAACkG,cAAAA,CACCC,UAAW2E,EACXnK,SAAU,IAAMoK,EAAoB,CAACD,GACrC1E,YAAaA,WAOrB,GAAAxG,EAAAI,GAAA,EAACsH,aAAAA,CACCnB,UAAW2E,EACX9M,QAAS6M,EAAa7M,OAAO,CAC7BgI,WAAY6E,EAAa7E,UAAU,CACnC1G,MAAOuL,EAAavL,KAAK,CACzBiI,QAAS,KACPwD,EAAoB,IACpBjB,EAAgB,CAAE/I,KAAM,iBAAkB,EAC5C,EACAwF,SAAU,IACRuD,EAAgB,CAAE/I,KAAM,eAAgBgF,GAAI1H,EAAM0H,EAAE,GACpD6C,EAAiBvK,EAAM4I,MAAM,EACxB4B,GACHnD,EAAQ,IAAM+D,EAAcpL,EAAM4I,MAAM,EAE5C,EACAT,SAAU,GAAQsD,EAAgB,CAAE/I,KAAM,eAAgBgF,GAAAA,CAAG,GAC7DU,aAAc,IACZmC,EAAiBvK,EAAM4I,MAAM,EAC7BvB,EAAQ,IAAM+D,EAAcpL,EAAM4I,MAAM,EAC1C,UAMZ","sources":["webpack://_N_E/?16b3","webpack://_N_E/./app/page.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/codebuild/output/src2780279085/src/fast-flux-demo/app/page.tsx\")","\"use client\";\n\nimport React, { useEffect, useRef, useState, useCallback, useReducer, useMemo } from \"react\";\nimport Image from \"next/image\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport debounce from 'lodash/debounce';\nimport { createHash } from 'crypto';\n\ninterface PerformanceMetrics {\n  FCP?: number;\n  LCP?: number;\n  CLS?: number;\n}\n\ninterface LayoutShiftEntry extends PerformanceEntry {\n  hadRecentInput: boolean;\n  value: number;\n}\n\n// Performance monitoring\nconst usePerfMetrics = () => {\n  useEffect(() => {\n    const metrics: PerformanceMetrics = {};\n    \n    // Track FCP\n    new PerformanceObserver((list) => {\n      const entries = list.getEntries();\n      const fcpEntry = entries.find(entry => entry.name === 'first-contentful-paint');\n      if (fcpEntry) {\n        metrics.FCP = fcpEntry.startTime;\n        console.log('FCP:', metrics.FCP);\n      }\n    }).observe({ entryTypes: ['paint'] });\n\n    // Track LCP\n    new PerformanceObserver((list) => {\n      const entries = list.getEntries();\n      if (entries.length > 0) {\n        metrics.LCP = entries[entries.length - 1].startTime;\n        console.log('LCP:', metrics.LCP);\n      }\n    }).observe({ entryTypes: ['largest-contentful-paint'] });\n\n    // Track CLS\n    new PerformanceObserver((list) => {\n      let clsValue = 0;\n      list.getEntries().forEach((entry) => {\n        const layoutShift = entry as LayoutShiftEntry;\n        if (!layoutShift.hadRecentInput) {\n          clsValue += layoutShift.value;\n        }\n      });\n      metrics.CLS = clsValue;\n      console.log('CLS:', metrics.CLS);\n    }).observe({ entryTypes: ['layout-shift'] });\n\n    return () => {\n      // Clean up observers\n    };\n  }, []);\n};\n\ninterface ErrorBoundaryProps {\n  children: React.ReactNode;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n}\n\n// Error boundary for graceful degradation\nclass ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo): void {\n    console.error('UI Error:', error, errorInfo);\n    // Log to analytics\n  }\n\n  render(): React.ReactNode {\n    if (this.state.hasError) {\n      return (\n        <div className=\"p-6 bg-red-50 dark:bg-red-900/10 rounded-lg\">\n          <h2 className=\"text-red-600 dark:text-red-400 font-medium\">Something went wrong</h2>\n          <button \n            onClick={() => this.setState({ hasError: false })}\n            className=\"mt-2 text-sm text-red-500 hover:text-red-600 dark:text-red-400\"\n          >\n            Try again\n          </button>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nconst DEFAULT_INPUT = \"Elegant minimalist workspace with soft natural lighting, muted colors\";\n\nconst RealTimeToggle = ({ enabled, onToggle, isGenerating }: { enabled: boolean; onToggle: () => void; isGenerating: boolean }) => {\n  const springConfig = { type: \"spring\", stiffness: 700, damping: 30 };\n  \n  return (\n    <motion.button\n      type=\"button\"\n      onClick={onToggle}\n      disabled={isGenerating}\n      className={`\n        relative p-3 rounded-xl\n        transition-all duration-300\n        ${enabled \n          ? 'bg-blue-500/10 text-blue-600 dark:text-blue-400 hover:bg-blue-500/20' \n          : 'bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700'\n        }\n        disabled:opacity-50 disabled:cursor-not-allowed\n        group text-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30\n      `}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      transition={springConfig}\n    >\n      <motion.div\n        className={`\n          absolute inset-0 rounded-xl\n          ${enabled ? 'bg-blue-500/5 dark:bg-blue-400/5' : 'bg-gray-500/5 dark:bg-gray-400/5'}\n        `}\n        initial={false}\n        animate={enabled ? { scale: 1.5, opacity: 0 } : { scale: 1, opacity: 0 }}\n        transition={{ duration: 0.5, repeat: enabled ? Infinity : 0 }}\n      />\n      <span className=\"relative z-10\" aria-label={enabled ? \"Real-time mode\" : \"Manual mode\"}>\n        {enabled ? '‚ö°' : 'üéØ'}\n      </span>\n      {enabled && (\n        <motion.div \n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.8 }}\n          className=\"absolute -top-2 -right-2 text-xs bg-blue-500 text-white dark:text-blue-100 rounded-full w-4 h-4 flex items-center justify-center\"\n        >\n          2\n        </motion.div>\n      )}\n    </motion.button>\n  );\n};\n\nconst GenerateButton = ({ isGenerating, disabled, hasError }: { isGenerating: boolean; disabled: boolean; hasError: boolean }) => {\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError] = useState(hasError);\n\n  useEffect(() => {\n    if (!isGenerating && !showError) {\n      setShowSuccess(true);\n      const timer = setTimeout(() => setShowSuccess(false), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [isGenerating, showError]);\n\n  return (\n    <motion.button\n      type=\"submit\"\n      disabled={disabled}\n      className={`\n        relative p-3 rounded-xl transition-all duration-300\n        ${hasError \n          ? 'bg-red-500/10 text-red-600' \n          : showSuccess \n            ? 'bg-green-500/10 text-green-600'\n            : 'bg-blue-500/10 text-blue-600 dark:text-blue-400 hover:bg-blue-500/20'\n        }\n        disabled:opacity-50 disabled:cursor-not-allowed\n        text-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30\n      `}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      aria-label={isGenerating ? \"Generating image\" : \"Generate image\"}\n    >\n      <AnimatePresence mode=\"wait\">\n        {isGenerating ? (\n          <motion.div\n            key=\"generating\"\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.8 }}\n            className=\"relative\"\n          >\n            <motion.div\n              className=\"absolute inset-0 flex items-center justify-center\"\n              animate={{ rotate: 360 }}\n              transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n            >\n              ‚ú®\n            </motion.div>\n            <span className=\"opacity-0\">ü™Ñ</span>\n          </motion.div>\n        ) : hasError ? (\n          <motion.span\n            key=\"error\"\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.8 }}\n          >\n            ‚ö†Ô∏è\n          </motion.span>\n        ) : showSuccess ? (\n          <motion.span\n            key=\"success\"\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.8 }}\n          >\n            ‚úì\n          </motion.span>\n        ) : (\n          <motion.span\n            key=\"idle\"\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.8 }}\n          >\n            ü™Ñ\n          </motion.span>\n        )}\n      </AnimatePresence>\n    </motion.button>\n  );\n};\n\nconst ImageDisplay = React.memo(({ url, alt, loading, error, onRetry }: {\n  url: string | null;\n  alt: string;\n  loading: boolean;\n  error: Error | null;\n  onRetry: () => void;\n}) => {\n  const variants = {\n    hidden: { opacity: 0, scale: 0.95 },\n    visible: { \n      opacity: 1,\n      scale: 1,\n      transition: { type: \"spring\", stiffness: 300, damping: 30 }\n    }\n  };\n\n  return (\n    <motion.div \n      variants={variants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      className=\"relative w-full max-w-4xl aspect-square rounded-3xl overflow-hidden shadow-2xl\"\n    >\n      {url ? (\n        <Image\n          src={url}\n          alt={alt}\n          fill\n          className=\"object-cover\"\n          priority\n        />\n      ) : (\n        <div className=\"absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900\" />\n      )}\n      \n      {loading && (\n        <motion.div \n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"absolute inset-0 backdrop-blur-sm bg-black/20 flex items-center justify-center\"\n        >\n          <motion.div\n            animate={{ rotate: 360 }}\n            transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n            className=\"w-12 h-12 border-2 border-white/30 border-t-white rounded-full\"\n          />\n        </motion.div>\n      )}\n\n      {error && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"absolute inset-0 backdrop-blur-sm bg-black/20 flex flex-col items-center justify-center\"\n        >\n          <p className=\"text-white mb-4\">‚ö†Ô∏è {error.message}</p>\n          <button\n            onClick={onRetry}\n            className=\"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-white transition-colors\"\n          >\n            Try Again\n          </button>\n        </motion.div>\n      )}\n    </motion.div>\n  );\n});\n\nImageDisplay.displayName = 'ImageDisplay';\n\ninterface ImageState {\n  url: string | null;\n  loading: boolean;\n  error: Error | null;\n  timestamp: number;\n}\n\ntype ImageAction = \n  | { type: 'START_LOADING'; prompt: string }\n  | { type: 'LOAD_SUCCESS'; url: string; prompt: string }\n  | { type: 'LOAD_ERROR'; error: Error }\n  | { type: 'RESET' };\n\n// Reducers\nconst imageReducer = (state: ImageState, action: ImageAction): ImageState => {\n  switch (action.type) {\n    case 'START_LOADING':\n      return {\n        ...state,\n        loading: true,\n        error: null,\n        timestamp: Date.now()\n      };\n    case 'LOAD_SUCCESS':\n      return {\n        url: action.url,\n        loading: false,\n        error: null,\n        timestamp: Date.now()\n      };\n    case 'LOAD_ERROR':\n      return {\n        ...state,\n        loading: false,\n        error: action.error,\n        timestamp: Date.now()\n      };\n    case 'RESET':\n      return {\n        url: null,\n        loading: false,\n        error: null,\n        timestamp: Date.now()\n      };\n    default:\n      return state;\n  }\n};\n\n// Custom hooks\nconst useImageCache = () => {\n  const cache = useRef<Map<string, { url: string; timestamp: number }>>(new Map());\n  const CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 hours\n\n  const set = useCallback((hash: string, url: string) => {\n    cache.current.set(hash, { url, timestamp: Date.now() });\n    // Persist to localStorage\n    try {\n      localStorage.setItem('imageCache', JSON.stringify(Array.from(cache.current.entries())));\n    } catch (error) {\n      console.warn('Failed to persist cache:', error);\n    }\n  }, []);\n\n  const get = useCallback((hash: string) => {\n    const entry = cache.current.get(hash);\n    if (!entry) return null;\n    if (Date.now() - entry.timestamp > CACHE_DURATION) {\n      cache.current.delete(hash);\n      return null;\n    }\n    return entry.url;\n  }, []);\n\n  // Load cache from localStorage on mount\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem('imageCache');\n      if (saved) {\n        cache.current = new Map(JSON.parse(saved));\n      }\n    } catch (error) {\n      console.warn('Failed to load cache:', error);\n    }\n  }, []);\n\n  return { get, set };\n};\n\nconst useRequestQueue = () => {\n  const queue = useRef<Array<() => Promise<void>>>([]);\n  const isProcessing = useRef(false);\n\n  const processQueue = useCallback(async () => {\n    if (isProcessing.current || queue.current.length === 0) return;\n    isProcessing.current = true;\n\n    try {\n      const request = queue.current[0];\n      await request();\n      queue.current.shift();\n    } catch (error) {\n      console.error('Queue processing error:', error);\n    } finally {\n      isProcessing.current = false;\n      if (queue.current.length > 0) {\n        processQueue();\n      }\n    }\n  }, []);\n\n  const enqueue = useCallback((request: () => Promise<void>) => {\n    queue.current.push(request);\n    processQueue();\n  }, [processQueue]);\n\n  return { enqueue };\n};\n\n// Add new interfaces for history\ninterface HistoryEntry {\n  id: string;\n  prompt: string;\n  imageUrl: string;\n  hash: string;\n  timestamp: number;\n  metadata: {\n    generationTime: number;\n    fromCache: boolean;\n    seed: string;\n  }\n}\n\ninterface HistoryState {\n  entries: HistoryEntry[];\n  selectedId: string | null;\n  error: Error | null;\n  isLoading: boolean;\n}\n\ntype HistoryAction =\n  | { type: 'ADD_ENTRY'; entry: HistoryEntry }\n  | { type: 'REMOVE_ENTRY'; id: string }\n  | { type: 'SELECT_ENTRY'; id: string }\n  | { type: 'CLEAR_SELECTION' }\n  | { type: 'SET_ERROR'; error: Error }\n  | { type: 'CLEAR_ERROR' }\n  | { type: 'START_LOADING' }\n  | { type: 'STOP_LOADING' };\n\n// History reducer with improved error handling\nconst historyReducer = (state: HistoryState, action: HistoryAction): HistoryState => {\n  switch (action.type) {\n    case 'ADD_ENTRY':\n      return {\n        ...state,\n        entries: [action.entry, ...state.entries.filter(e => e.hash !== action.entry.hash)],\n        error: null\n      };\n    case 'REMOVE_ENTRY':\n      return {\n        ...state,\n        entries: state.entries.filter(e => e.id !== action.id),\n        selectedId: state.selectedId === action.id ? null : state.selectedId\n      };\n    case 'SELECT_ENTRY':\n      return {\n        ...state,\n        selectedId: action.id,\n        error: null\n      };\n    case 'CLEAR_SELECTION':\n      return {\n        ...state,\n        selectedId: null\n      };\n    case 'SET_ERROR':\n      return {\n        ...state,\n        error: action.error,\n        isLoading: false\n      };\n    case 'CLEAR_ERROR':\n      return {\n        ...state,\n        error: null\n      };\n    case 'START_LOADING':\n      return {\n        ...state,\n        isLoading: true,\n        error: null\n      };\n    case 'STOP_LOADING':\n      return {\n        ...state,\n        isLoading: false\n      };\n    default:\n      return state;\n  }\n};\n\n// New history components with improved interactions\nconst HistoryToggle = ({ isVisible, onToggle, hasNewItems }: { \n  isVisible: boolean; \n  onToggle: () => void;\n  hasNewItems: boolean;\n}) => (\n  <motion.button\n    onClick={onToggle}\n    className={`\n      relative p-3 rounded-xl transition-colors\n      ${isVisible \n        ? 'bg-blue-500/10 text-blue-600 dark:text-blue-400 hover:bg-blue-500/20' \n        : 'bg-gray-100/50 text-gray-500 dark:bg-gray-800/50 dark:text-gray-400 hover:bg-gray-200/50 dark:hover:bg-gray-700/50'\n      }\n      focus:outline-none focus:ring-2 focus:ring-blue-500/30\n    `}\n    whileHover={{ scale: 1.05 }}\n    whileTap={{ scale: 0.95 }}\n    aria-label={isVisible ? \"Close history\" : \"Open history\"}\n  >\n    <span className=\"text-lg\">{isVisible ? 'üìö' : 'üìñ'}</span>\n    {hasNewItems && !isVisible && (\n      <motion.div\n        initial={{ scale: 0 }}\n        animate={{ scale: 1 }}\n        className=\"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full\"\n      />\n    )}\n  </motion.button>\n);\n\nconst HistoryItem = ({ \n  entry,\n  isSelected,\n  onSelect,\n  onRemove,\n  onRegenerate \n}: { \n  entry: HistoryEntry;\n  isSelected: boolean;\n  onSelect: () => void;\n  onRemove: () => void;\n  onRegenerate: () => void;\n}) => {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n      className={`\n        relative rounded-xl overflow-hidden\n        ${isSelected \n          ? 'ring-2 ring-blue-500 dark:ring-blue-400' \n          : 'hover:ring-1 hover:ring-gray-200 dark:hover:ring-gray-700'\n        }\n        bg-white dark:bg-gray-800 shadow-sm hover:shadow-md transition-all\n      `}\n      onHoverStart={() => setIsHovered(true)}\n      onHoverEnd={() => setIsHovered(false)}\n    >\n      <motion.div \n        className=\"relative aspect-square\"\n        onClick={onSelect}\n      >\n        <Image\n          src={entry.imageUrl}\n          alt={entry.prompt}\n          fill\n          className=\"object-cover\"\n          sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n          priority={isSelected}\n        />\n        <AnimatePresence>\n          {isHovered && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-black/0 p-4 flex flex-col justify-end\"\n            >\n              <p className=\"text-sm text-white line-clamp-2\">{entry.prompt}</p>\n              <div className=\"flex items-center gap-2 mt-2\">\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onRegenerate();\n                  }}\n                  className=\"p-2 text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg transition-colors\"\n                  aria-label=\"Regenerate image\"\n                >\n                  ‚Ü∫\n                </button>\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onRemove();\n                  }}\n                  className=\"p-2 text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg transition-colors\"\n                  aria-label=\"Remove from history\"\n                >\n                  √ó\n                </button>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        {entry.metadata.fromCache && (\n          <div className=\"absolute top-2 right-2 p-1 bg-blue-500 rounded-md\">\n            <span className=\"text-xs text-white\">‚ö°</span>\n          </div>\n        )}\n      </motion.div>\n    </motion.div>\n  );\n};\n\nconst HistoryPanel = ({\n  isVisible,\n  entries,\n  selectedId,\n  onClose,\n  onSelect,\n  onRemove,\n  onRegenerate,\n  error\n}: {\n  isVisible: boolean;\n  entries: HistoryEntry[];\n  selectedId: string | null;\n  onClose: () => void;\n  onSelect: (entry: HistoryEntry) => void;\n  onRemove: (id: string) => void;\n  onRegenerate: (entry: HistoryEntry) => void;\n  error: Error | null;\n}) => {\n  const panelRef = useRef<HTMLDivElement>(null);\n  const [dragState, setDragState] = useState({ isDragging: false, startY: 0, translateY: 0 });\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setDragState({\n      isDragging: true,\n      startY: e.touches[0].clientY,\n      translateY: 0\n    });\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (!dragState.isDragging) return;\n    const deltaY = e.touches[0].clientY - dragState.startY;\n    if (deltaY > 0) {\n      setDragState(prev => ({ ...prev, translateY: deltaY }));\n    }\n  };\n\n  const handleTouchEnd = () => {\n    if (dragState.translateY > 100) {\n      onClose();\n    }\n    setDragState({ isDragging: false, startY: 0, translateY: 0 });\n  };\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          ref={panelRef}\n          initial={{ opacity: 0, y: '100%' }}\n          animate={{ \n            opacity: 1, \n            y: dragState.translateY || 0,\n            transition: { type: \"spring\", damping: 30, stiffness: 300 }\n          }}\n          exit={{ opacity: 0, y: '100%' }}\n          className=\"fixed bottom-20 inset-x-0 h-[70vh] bg-white/80 dark:bg-gray-900/80 backdrop-blur-2xl shadow-2xl rounded-t-3xl overflow-hidden\"\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-gray-300 dark:bg-gray-700 rounded-full my-3\" />\n          \n          <div className=\"h-full pt-8 pb-6 px-6 overflow-y-auto custom-scrollbar\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div>\n                <h2 className=\"text-base font-medium text-gray-900 dark:text-white\">History</h2>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  {entries.length} {entries.length === 1 ? 'image' : 'images'} generated\n                </p>\n              </div>\n              <button\n                onClick={onClose}\n                className=\"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 rounded-lg transition-colors\"\n                aria-label=\"Close history\"\n              >\n                √ó\n              </button>\n            </div>\n\n            {error && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"mb-4 p-4 bg-red-500/10 text-red-600 dark:text-red-400 rounded-lg\"\n              >\n                ‚ö†Ô∏è {error.message}\n              </motion.div>\n            )}\n\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\n              <AnimatePresence mode=\"popLayout\">\n                {entries.map((entry) => (\n                  <HistoryItem\n                    key={entry.id}\n                    entry={entry}\n                    isSelected={entry.id === selectedId}\n                    onSelect={() => onSelect(entry)}\n                    onRemove={() => onRemove(entry.id)}\n                    onRegenerate={() => onRegenerate(entry)}\n                  />\n                ))}\n              </AnimatePresence>\n            </div>\n\n            {entries.length === 0 && (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                className=\"text-center py-12\"\n              >\n                <p className=\"text-gray-500 dark:text-gray-400\">No images generated yet</p>\n              </motion.div>\n            )}\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\n// Main component\nexport default function Home() {\n  usePerfMetrics();\n  const [imageState, dispatchImage] = useReducer(imageReducer, {\n    url: null,\n    loading: false,\n    error: null,\n    timestamp: 0\n  });\n\n  const [currentPrompt, setCurrentPrompt] = useState(DEFAULT_INPUT);\n  const [isRealTimeEnabled, setIsRealTimeEnabled] = useState(false);\n\n  // Remove history-related state and handlers\n  const abortController = useRef<AbortController | null>(null);\n  const { get: getCachedImage, set: setCachedImage } = useImageCache();\n  const { enqueue } = useRequestQueue();\n\n  // Memoized hash function\n  const generateHash = useMemo(() => (text: string) => {\n    return createHash('sha256').update(text).digest('hex').substring(0, 8);\n  }, []);\n\n  // Update generateImage to use new history\n  const generateImage = useCallback(async (prompt: string) => {\n    if (!prompt.trim()) return;\n\n    if (abortController.current) {\n      abortController.current.abort();\n    }\n    abortController.current = new AbortController();\n\n    const hash = generateHash(prompt);\n    const cachedUrl = getCachedImage(hash);\n    const startTime = Date.now();\n\n    if (cachedUrl) {\n      dispatchImage({ type: 'LOAD_SUCCESS', url: cachedUrl, prompt });\n      dispatchHistory({\n        type: 'ADD_ENTRY',\n        entry: {\n          id: hash,\n          prompt,\n          imageUrl: cachedUrl,\n          hash,\n          timestamp: Date.now(),\n          metadata: {\n            generationTime: 0,\n            fromCache: true,\n            seed: hash\n          }\n        }\n      });\n      return;\n    }\n\n    dispatchImage({ type: 'START_LOADING', prompt });\n    dispatchHistory({ type: 'START_LOADING' });\n\n    try {\n      const imageUrl = `/api/generate-image?text=${encodeURIComponent(prompt)}&seed=${hash}`;\n      \n      // Simulate API call for now\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      if (abortController.current?.signal.aborted) return;\n\n      dispatchImage({ type: 'LOAD_SUCCESS', url: imageUrl, prompt });\n      setCachedImage(hash, imageUrl);\n      \n      dispatchHistory({\n        type: 'ADD_ENTRY',\n        entry: {\n          id: hash,\n          prompt,\n          imageUrl,\n          hash,\n          timestamp: Date.now(),\n          metadata: {\n            generationTime: Date.now() - startTime,\n            fromCache: false,\n            seed: hash\n          }\n        }\n      });\n    } catch (error) {\n      if (error instanceof Error) {\n        dispatchImage({ type: 'LOAD_ERROR', error });\n        dispatchHistory({ type: 'SET_ERROR', error });\n      }\n    } finally {\n      dispatchHistory({ type: 'STOP_LOADING' });\n    }\n  }, [generateHash, getCachedImage, setCachedImage]);\n\n  // Debounced generation for real-time mode\n  const debouncedGenerate = useMemo(\n    () => debounce((prompt: string) => {\n      enqueue(() => generateImage(prompt));\n    }, 2000),\n    [generateImage, enqueue]\n  );\n\n  // Event handlers\n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const newPrompt = e.target.value;\n    setCurrentPrompt(newPrompt);\n    \n    if (isRealTimeEnabled) {\n      debouncedGenerate(newPrompt);\n    }\n  }, [isRealTimeEnabled, debouncedGenerate]);\n\n  const handleSubmit = useCallback((e: React.FormEvent) => {\n    e.preventDefault();\n    if (!isRealTimeEnabled) {\n      enqueue(() => generateImage(currentPrompt));\n    }\n  }, [isRealTimeEnabled, currentPrompt, generateImage, enqueue]);\n\n  const handleRetry = useCallback(() => {\n    enqueue(() => generateImage(currentPrompt));\n  }, [currentPrompt, generateImage, enqueue]);\n\n  // Cleanup\n  useEffect(() => {\n    return () => {\n      if (abortController.current) {\n        abortController.current.abort();\n      }\n    };\n  }, []);\n\n  const [historyState, dispatchHistory] = useReducer(historyReducer, {\n    entries: [],\n    selectedId: null,\n    error: null,\n    isLoading: false\n  });\n  const [isHistoryVisible, setIsHistoryVisible] = useState(false);\n  const hasNewItems = useMemo(() => {\n    if (isHistoryVisible) return false;\n    return historyState.entries.some(entry => \n      Date.now() - entry.timestamp < 5000\n    );\n  }, [historyState.entries, isHistoryVisible]);\n\n  return (\n    <ErrorBoundary>\n      <div className=\"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-gray-50 via-gray-100 to-gray-200 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900\">\n        <main className=\"relative min-h-[calc(100vh-4rem)]\">\n          {/* Image Display */}\n          <div className=\"absolute inset-0 flex items-center justify-center p-8 pb-24\">\n            <ImageDisplay\n              url={imageState.url}\n              alt={currentPrompt}\n              loading={imageState.loading}\n              error={imageState.error}\n              onRetry={handleRetry}\n            />\n          </div>\n\n          {/* Controls */}\n          <nav className=\"fixed bottom-0 inset-x-0 z-50\">\n            <motion.div \n              className=\"glass-effect mx-auto px-4 sm:px-6 lg:px-8 pb-safe\"\n              initial={{ y: 100 }}\n              animate={{ y: 0 }}\n              transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n            >\n              <form onSubmit={handleSubmit} className=\"flex items-center h-16 gap-4\">\n                <div className=\"flex items-center gap-2\">\n                  <RealTimeToggle \n                    enabled={isRealTimeEnabled}\n                    onToggle={() => setIsRealTimeEnabled(!isRealTimeEnabled)}\n                    isGenerating={imageState.loading}\n                  />\n                  <GenerateButton \n                    isGenerating={imageState.loading}\n                    disabled={imageState.loading || isRealTimeEnabled}\n                    hasError={!!imageState.error}\n                  />\n                </div>\n                <div className=\"relative flex-1\">\n        <input\n          type=\"text\"\n                    value={currentPrompt}\n                    onChange={handleInputChange}\n                    placeholder=\"Describe your vision...\"\n                    className=\"w-full px-4 py-2 text-base text-gray-900 dark:text-white bg-gray-100/50 dark:bg-gray-800/50 rounded-xl border-0 focus:ring-2 focus:ring-blue-500/30 transition-all duration-300\"\n                  />\n                  {currentPrompt !== DEFAULT_INPUT && (\n                    <button\n                      type=\"button\"\n                      onClick={() => setCurrentPrompt(DEFAULT_INPUT)}\n                      className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300\"\n                    >\n                      √ó\n                    </button>\n                  )}\n                </div>\n                <HistoryToggle\n                  isVisible={isHistoryVisible}\n                  onToggle={() => setIsHistoryVisible(!isHistoryVisible)}\n                  hasNewItems={hasNewItems}\n                />\n              </form>\n            </motion.div>\n          </nav>\n\n          {/* History Panel */}\n          <HistoryPanel\n            isVisible={isHistoryVisible}\n            entries={historyState.entries}\n            selectedId={historyState.selectedId}\n            error={historyState.error}\n            onClose={() => {\n              setIsHistoryVisible(false);\n              dispatchHistory({ type: 'CLEAR_SELECTION' });\n            }}\n            onSelect={(entry) => {\n              dispatchHistory({ type: 'SELECT_ENTRY', id: entry.id });\n              setCurrentPrompt(entry.prompt);\n              if (!isRealTimeEnabled) {\n                enqueue(() => generateImage(entry.prompt));\n              }\n            }}\n            onRemove={(id) => dispatchHistory({ type: 'REMOVE_ENTRY', id })}\n            onRegenerate={(entry) => {\n              setCurrentPrompt(entry.prompt);\n              enqueue(() => generateImage(entry.prompt));\n            }}\n          />\n      </main>\n    </div>\n    </ErrorBoundary>\n  );\n}\n"],"names":["Promise","resolve","then","__webpack_require__","bind","usePerfMetrics","useEffect","metrics","PerformanceObserver","entries","list","getEntries","fcpEntry","find","entry","name","FCP","startTime","observe","entryTypes","length","LCP","clsValue","forEach","layoutShift","hadRecentInput","value","CLS","ErrorBoundary","React","getDerivedStateFromError","error","hasError","componentDidCatch","errorInfo","render","state","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","className","jsx","h2","button","onClick","setState","props","children","constructor","DEFAULT_INPUT","RealTimeToggle","enabled","onToggle","isGenerating","param","motion","type","disabled","concat","whileHover","scale","whileTap","transition","stiffness","damping","initial","animate","opacity","duration","repeat","Infinity","span","aria-label","exit","GenerateButton","showSuccess","setShowSuccess","useState","showError","timer","setTimeout","clearTimeout","AnimatePresence","mode","rotate","ease","ImageDisplay","url","alt","loading","onRetry","variants","hidden","visible","Image","src","fill","priority","p","message","displayName","imageReducer","action","timestamp","Date","now","useImageCache","cache","useRef","Map","set","useCallback","hash","current","localStorage","setItem","JSON","stringify","Array","from","get","delete","saved","getItem","parse","useRequestQueue","queue","isProcessing","processQueue","request","shift","enqueue","push","historyReducer","filter","e","id","selectedId","isLoading","HistoryToggle","isVisible","hasNewItems","HistoryItem","isSelected","onSelect","onRemove","onRegenerate","isHovered","setIsHovered","layout","y","onHoverStart","onHoverEnd","imageUrl","prompt","sizes","stopPropagation","metadata","fromCache","HistoryPanel","onClose","panelRef","dragState","setDragState","isDragging","startY","translateY","ref","onTouchStart","touches","clientY","onTouchMove","deltaY","prev","onTouchEnd","map","Home","imageState","dispatchImage","useReducer","currentPrompt","setCurrentPrompt","isRealTimeEnabled","setIsRealTimeEnabled","abortController","getCachedImage","setCachedImage","generateHash","useMemo","createHash","update","text","digest","substring","generateImage","trim","abort","AbortController","cachedUrl","dispatchHistory","generationTime","seed","encodeURIComponent","signal","aborted","Error","debouncedGenerate","debounce","handleInputChange","newPrompt","target","handleSubmit","preventDefault","handleRetry","historyState","isHistoryVisible","setIsHistoryVisible","some","main","nav","form","onSubmit","input","onChange","placeholder"],"sourceRoot":""}